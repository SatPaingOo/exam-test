import{u as b,r as h,j as s,L as i}from"./index-cdb1896c.js";import{C as x,B as c}from"./Card-b2a7d19e.js";const f=()=>{var p;const{attemptId:n}=b(),t=h.useMemo(()=>{try{const e=sessionStorage.getItem(n);return e?JSON.parse(e):null}catch{return null}},[n]);if(!t)return s.jsx("div",{className:"quiz-result quiz-result--missing",children:s.jsx("div",{className:"container",children:s.jsxs(x,{hover:!1,children:[s.jsx("h1",{className:"quiz-result__title",children:"Result not found"}),s.jsx("p",{className:"quiz-result__subtitle",children:"The attempt expired or was cleared from this device."}),s.jsx("div",{className:"quiz-actions",children:s.jsx(i,{to:"/exams",children:s.jsx(c,{variant:"primary",children:"Browse Exams"})})})]})})});const{track:a,paper:j,trackLabel:N,paperLabel:_,papersUsed:d=[],paperOptions:u=[],summary:v,countRequested:m}=t,q=N||((p=a==null?void 0:a.toUpperCase)==null?void 0:p.call(a))||"Practice",z=_||j||"Session",l=v||{score:0,correct:0,total:0,details:[]},r=Array.isArray(d)?[...new Set(d)]:[],g=h.useMemo(()=>new Map(u.map(e=>[e.id,e.label])),[u]),o=r.map(e=>g.get(e)||e);return s.jsxs("div",{className:"quiz-result",children:[s.jsx("section",{className:"page-hero",children:s.jsxs("div",{className:"container",children:[s.jsx("p",{className:"page-hero__eyebrow",children:"Attempt Summary"}),s.jsx("h1",{className:"page-hero__title",children:q}),s.jsx("p",{className:"page-hero__subtitle",children:z})]})}),s.jsx("section",{className:"quiz-result__content",children:s.jsx("div",{className:"container",children:s.jsxs(x,{hover:!1,className:"quiz-result__card",children:[s.jsxs("div",{className:"quiz-result__overview",children:[s.jsxs("div",{className:"quiz-result__metric",children:[s.jsx("span",{className:"label",children:"Score"}),s.jsxs("span",{className:"value",children:[l.score,"%"]})]}),s.jsxs("div",{className:"quiz-result__metric",children:[s.jsx("span",{className:"label",children:"Correct"}),s.jsxs("span",{className:"value",children:[l.correct," / ",l.total]})]}),s.jsxs("div",{className:"quiz-result__metric",children:[s.jsx("span",{className:"label",children:"Questions"}),s.jsx("span",{className:"value",children:l.total})]}),m?s.jsxs("div",{className:"quiz-result__metric",children:[s.jsx("span",{className:"label",children:"Requested"}),s.jsx("span",{className:"value",children:m})]}):null,r.length>1?s.jsxs("div",{className:"quiz-result__metric",children:[s.jsx("span",{className:"label",children:"Papers Mixed"}),s.jsx("span",{className:"value",children:r.length})]}):null]}),o.length?s.jsxs("div",{className:"quiz-result__papers",children:[s.jsx("span",{className:"label",children:"Papers Included"}),s.jsx("div",{className:"quiz-result__paper-tags",children:o.map(e=>s.jsx("span",{className:"quiz-result__paper-tag",children:e},e))})]}):null,s.jsx("div",{className:"quiz-result__details",children:l.details.map(e=>s.jsxs("div",{className:`quiz-result__item ${e.isCorrect?"quiz-result__item--correct":"quiz-result__item--incorrect"}`,children:[s.jsxs("div",{className:"question-id",children:["Q",e.id]}),s.jsxs("div",{className:"answer",children:[s.jsx("span",{className:"label",children:"Your answer"}),s.jsx("span",{className:"value",children:e.picked||"â€”"})]}),s.jsxs("div",{className:"answer",children:[s.jsx("span",{className:"label",children:"Correct"}),s.jsx("span",{className:"value",children:e.correctAnswer})]})]},e.id))}),s.jsxs("div",{className:"quiz-actions quiz-actions--end",children:[s.jsx(i,{to:`/exams/${a}`,children:s.jsx(c,{variant:"primary",children:"Retry Session"})}),s.jsx(i,{to:"/exams",children:s.jsx(c,{variant:"outline",children:"Back to Exams"})})]})]})})})]})};export{f as default};
