import{c as e,a,r as s,j as l,C as r,L as n,B as i,b as t,I as c}from"./index-09ec34ef.js";import{g as o,a as m,b as d}from"./examData-56a1e103.js";import"./dummy-e365b94c.js";const h=()=>{const{track:h}=e(),u=a(),[p,x]=s.useState(20),[j,v]=s.useState("random"),[N,b]=s.useState("both"),[g,_]=s.useState(!1),y=s.useMemo(()=>o(h),[h]),f=s.useMemo(()=>m(h),[h]),S=f.length>0,k=s.useMemo(()=>S?[{value:"random",label:"Random (All available years)"},...f.map(e=>({value:e.id,label:e.label}))]:[],[S,f]);if(s.useEffect(()=>{S?j||v("random"):v("")},[S,j]),!y)return l.jsx("div",{className:"exam-setup exam-setup--missing",children:l.jsx("div",{className:"container",children:l.jsxs(r,{hover:!1,children:[l.jsxs("h1",{children:["Unknown track: ",h]}),l.jsx("p",{children:"Please choose a valid exam track from the library."}),l.jsx("div",{className:"form-actions",children:l.jsx(n,{to:"/exams",className:"form-actions__link",children:l.jsx(i,{variant:"primary",children:"Back to Exams"})})})]})})});const C=e=>{if(""===e)return void x("");const a=Number(e);!Number.isFinite(a)||a<1?x(1):x(Math.min(100,Math.floor(a)))};return l.jsxs("div",{className:"exam-setup",children:[l.jsx("section",{className:"page-hero page-hero--subtle",children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"page-hero__category",children:l.jsx("span",{className:"category-badge category-badge--{track}",children:(null==y?void 0:y.level)||"EXAM"})}),l.jsx("p",{className:"page-hero__eyebrow",children:"Practice Settings"}),l.jsxs("h1",{className:"page-hero__title",children:[(null==y?void 0:y.name)||(null==h?void 0:h.toUpperCase())," Session"]}),l.jsx("p",{className:"page-hero__subtitle",children:"Tailor the session length and paper so your practice mirrors the real exam pacing."})]})}),l.jsx("section",{className:"exam-setup__content",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"exam-setup__grid",children:[l.jsx(r,{className:"exam-setup__card",hover:!1,children:l.jsxs("div",{className:"exam-setup__form",children:[l.jsx(t,{label:"Paper",name:"paper",value:j,onChange:e=>v(e.target.value),options:k,placeholder:S?"Choose a specific year or stay on random":"No papers available",disabled:!S}),("fe"===h||"ap"===h)&&l.jsx(t,{label:"Session",name:"session",value:N,onChange:e=>b(e.target.value),options:[{value:"both",label:"Both Sessions"},{value:"morning",label:"Morning Only"},{value:"afternoon",label:"Afternoon Only"}]}),l.jsx(c,{label:"Question Count",type:"number",name:"count",min:1,max:100,value:p,onChange:e=>C(e.target.value),onBlur:e=>C(e.target.value)}),l.jsx("p",{className:"exam-setup__helper",children:"We will sample unique questions from the selected paper."}),l.jsxs("div",{className:"form-actions",children:[l.jsx(i,{variant:"primary",onClick:()=>{if(g||!S||""===p||!Number.isFinite(Number(p)))return;_(!0);const e=j||"random",a=new URLSearchParams({count:p.toString()});"both"!==N&&a.set("session",N),u(`/quiz/start/${h}/${e}?${a.toString()}`)},disabled:!S||g,children:g?"Starting...":"Start Practice"}),l.jsx(n,{to:"/exams",className:"form-actions__link",children:l.jsx(i,{variant:"outline",children:"Back to Exams"})})]})]})}),l.jsxs(r,{className:"exam-setup__summary",hover:!1,children:[l.jsxs("div",{className:"exam-setup__summary-header",children:[l.jsx("h2",{children:"Session Overview"}),l.jsx("p",{children:"Focus on accuracy and pacing. Each attempt stores your results locally so you can review progress later."})]}),l.jsxs("ul",{className:"exam-setup__summary-list",children:[l.jsxs("li",{children:[l.jsx("span",{className:"label",children:"Mode"}),l.jsx("span",{className:"value",children:"Timed practice without penalties"})]}),l.jsxs("li",{children:[l.jsx("span",{className:"label",children:"Paper"}),l.jsx("span",{className:"value",children:j?d(h,j,f):S?"Select a paper":"â€”"})]}),l.jsxs("li",{children:[l.jsx("span",{className:"label",children:"Questions"}),l.jsx("span",{className:"value",children:p})]})]})]})]})})})]})};export{h as default};
