var s;import{l as a,_ as t}from"./index-004cc2d7.js";import{d as e}from"./dummy-e365b94c.js";const r=(Array.isArray(null==(s=e)?void 0:s.exams)?e.exams:[]).flatMap(s=>(Array.isArray(s.types)?s.types:[]).map(a=>({examId:s.id,examTitle:s.title,id:a.id,name:a.displayName||a.name||a.id,description:a.description,summary:a.summary||a.description||"Additional papers are in development.",level:a.level||"Practice",years:Array.isArray(a.years)?a.years:[],jsonFormat:a.jsonFormat||[]}))),i=Object.assign({"/src/assets/data/itpec/fe/2025S.json":()=>t(()=>import("./2025S-171d60ac.js"),[]),"/src/assets/data/itpec/ip/2020A.json":()=>t(()=>import("./2020A-7281b5c7.js"),[]),"/src/assets/data/itpec/ip/2020S.json":()=>t(()=>import("./2020S-87198f3b.js"),[]),"/src/assets/data/itpec/ip/2021A.json":()=>t(()=>import("./2021A-7da5245e.js"),[]),"/src/assets/data/itpec/ip/2021S.json":()=>t(()=>import("./2021S-9d571c6b.js"),[]),"/src/assets/data/itpec/ip/2022A.json":()=>t(()=>import("./2022A-4b7306d6.js"),[]),"/src/assets/data/itpec/ip/2022S.json":()=>t(()=>import("./2022S-ac61f87d.js"),[]),"/src/assets/data/itpec/ip/2023A.json":()=>t(()=>import("./2023A-0629bd18.js"),[]),"/src/assets/data/itpec/ip/2023S.json":()=>t(()=>import("./2023S-a875d346.js"),[]),"/src/assets/data/itpec/ip/2024A.json":()=>t(()=>import("./2024A-d8336f89.js"),[]),"/src/assets/data/itpec/ip/2024S.json":()=>t(()=>import("./2024S-41905c9b.js"),[]),"/src/assets/data/itpec/ip/2025S.json":()=>t(()=>import("./2025S-c77f85c3.js"),[]),"/src/assets/data/jlpt/n5/2024.json":()=>t(()=>import("./2024-27d24635.js"),[]),"/src/assets/data/jlpt/n5/2024_clean.json":()=>t(()=>import("./2024_clean-27d24635.js"),[])});function n(){return r}function o(s){return r.find(a=>a.id===s)||null}function p(s){const a=o(s);return a?a.years.map(s=>({id:s.id,label:s.name||s.id})):[]}function _(s,a,t=[]){var e,r;if(!a)return"";if("random"===a){const a=t.length||p(s).length;return a<=1?(null==(e=t[0])?void 0:e.label)||"Random selection":`Random mix of ${a} papers`}return(null==(r=(t.length?t:p(s)).find(s=>s.id===a))?void 0:r.label)||a}async function d(s,t){const e=o(s);if(!e)return[];const r=`/src/assets/data/${e.examId}/${s}/${t}.json`,n=i[r];if(!n)return[];try{const s=await n();let a=null==s?void 0:s.default;if(!Array.isArray(a))return[];return a.length>0&&a[0].questions&&Array.isArray(a[0].questions)&&(a=a.flatMap(s=>(s.questions||[]).map(a=>({...a,session:s.id||s.name||"unknown"})))),a}catch(p){return a(`Failed to load questions for ${r}`,{error:p.message,trackId:s,paperId:t}),[]}}async function l(s,a){var t;const e=p(s),r=e.map(s=>s.id);if(!r.length)return{questions:[],paperIds:[],paperOptions:e,resolvedPaperId:null};const i="string"==typeof a?a.toLowerCase():"",n=i?null==(t=e.find(s=>s.id.toLowerCase()===i))?void 0:t.id:null;if(!i||"random"===i||"all"===i){return{questions:(await Promise.all(r.map(a=>d(s,a)))).flat(),paperIds:r,paperOptions:e,resolvedPaperId:null}}const o=n||a;if(!r.includes(o))return{questions:[],paperIds:[],paperOptions:e,resolvedPaperId:null};return{questions:await d(s,o),paperIds:[o],paperOptions:e,resolvedPaperId:o}}export{p as a,_ as b,o as g,n as l,l as r};
